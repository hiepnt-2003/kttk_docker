Database:
-- customer_db.sql
CREATE DATABASE IF NOT EXISTS customer_db;
USE customer_db;

CREATE TABLE customers (
id BIGINT AUTO_INCREMENT PRIMARY KEY,
full_name VARCHAR(100) NOT NULL,
identification_number VARCHAR(20) NOT NULL UNIQUE,
phone_number VARCHAR(15) NOT NULL,
email VARCHAR(100),
address VARCHAR(255),
created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

-- room_db.sql
CREATE DATABASE IF NOT EXISTS room_db;
USE room_db;

CREATE TABLE room_types (
id BIGINT AUTO_INCREMENT PRIMARY KEY,
name VARCHAR(50) NOT NULL,
description TEXT,
created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

CREATE TABLE rooms (
id BIGINT AUTO_INCREMENT PRIMARY KEY,
room_number VARCHAR(10) NOT NULL UNIQUE,
room_type_id BIGINT NOT NULL,
monthly_price DECIMAL(10, 2) NOT NULL,
status ENUM('AVAILABLE', 'BOOKED', 'OCCUPIED', 'MAINTENANCE') NOT NULL DEFAULT 'AVAILABLE',
description TEXT,
created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
FOREIGN KEY (room_type_id) REFERENCES room_types(id)
);

INSERT INTO room_types (name, description) VALUES
('Standard', 'Phòng tiêu chuẩn cho 1-2 người'),
('Deluxe', 'Phòng cao cấp cho 2-3 người'),
('Suite', 'Phòng đặc biệt cho gia đình');

-- booking_db.sql
CREATE DATABASE IF NOT EXISTS booking_db;
USE booking_db;

CREATE TABLE bookings (
id BIGINT AUTO_INCREMENT PRIMARY KEY,
customer_id BIGINT NOT NULL,
room_id BIGINT NOT NULL,
booking_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
check_in_date DATE NOT NULL,
status ENUM('PENDING', 'CHECKED_IN', 'CANCELLED') NOT NULL DEFAULT 'PENDING',
notes TEXT,
created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

CREATE TABLE check_ins (
id BIGINT AUTO_INCREMENT PRIMARY KEY,
booking_id BIGINT,
customer_id BIGINT NOT NULL,
room_id BIGINT NOT NULL,
check_in_date DATE NOT NULL,
expected_check_out_date DATE,
status ENUM('ACTIVE', 'CHECKED_OUT') NOT NULL DEFAULT 'ACTIVE',
created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
FOREIGN KEY (booking_id) REFERENCES bookings(id)
);

-- payment_db.sql
CREATE DATABASE IF NOT EXISTS payment_db;
USE payment_db;

CREATE TABLE invoices (
id BIGINT AUTO_INCREMENT PRIMARY KEY,
invoice_number VARCHAR(20) NOT NULL UNIQUE,
customer_id BIGINT NOT NULL,
room_id BIGINT NOT NULL,
month_year VARCHAR(7) NOT NULL, -- Format: MM/YYYY
amount DECIMAL(10, 2) NOT NULL,
issue_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
due_date DATE NOT NULL,
status ENUM('PENDING', 'PAID', 'OVERDUE', 'CANCELLED') NOT NULL DEFAULT 'PENDING',
description TEXT,
created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

CREATE TABLE payments (
id BIGINT AUTO_INCREMENT PRIMARY KEY,
invoice_id BIGINT,
customer_id BIGINT NOT NULL,
room_id BIGINT NOT NULL,
amount DECIMAL(10, 2) NOT NULL,
payment_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
payment_method ENUM('CASH', 'BANK_TRANSFER', 'CREDIT_CARD', 'MOBILE_BANKING', 'OTHER') NOT NULL,
transaction_id VARCHAR(50),
month_year VARCHAR(7) NOT NULL, -- Format: MM/YYYY
notes TEXT,
created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
FOREIGN KEY (invoice_id) REFERENCES invoices(id)
);